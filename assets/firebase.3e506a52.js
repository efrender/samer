import{initializeApp as D}from"https://www.gstatic.com/firebasejs/9.11.0/firebase-app.js";import{getFirestore as P,query as p,collection as o,where as r,getDocs as c,addDoc as f,doc as y,updateDoc as m,deleteDoc as q}from"https://www.gstatic.com/firebasejs/9.11.0/firebase-firestore.js";import{getStorage as g}from"https://www.gstatic.com/firebasejs/9.11.0/firebase-storage.js";const h={apiKey:"AIzaSyBcKzeOV6QmPP7yEYEinaSowlVpuG4skXE",authDomain:"andrea-db-93af4.firebaseapp.com",projectId:"andrea-db-93af4",storageBucket:"andrea-db-93af4.appspot.com",messagingSenderId:"152332750627",appId:"1:152332750627:web:f4c4909b74f2143c4e8696"},l=D(h),s=P(),b=g(l),B=t=>{f(o(s,"patient"),{...t})},C=async()=>(await c(o(s,"patient"))).docs.map(a=>{if(a)return{fireId:a.id,patientId:a.data().id,patientData:a.data().patient,patientPic:a.data().url}}),k=async t=>{const e=p(o(s,"patient"),r("uid","==",t)),a=await c(e),d=a.docs.map(u=>u.data()),n=a.docs.map(u=>u.id);return[d,n]};async function z(t,e){console.log(e.nombre);const a=y(s,"patient",t);await m(a,{nombre:e.nombre,apellido:e.apellido,ci:e.ci})}const E=async t=>{const e=parseInt(t),a=p(o(s,"patient"),r("id","==",e));return(await c(a)).docs.map(i=>{if(i)return{fireId:i.id,patientId:i.data().id,patientData:i.data().patient,patientPic:i.data().url}})},j=async t=>{const e=p(o(s,"patient"),r("patient.ci","==",t));return(await c(e)).docs.map(n=>{if(n)return{fireId:n.id,patientId:n.data().id,patientData:n.data().patient,patientPic:n.data().url}})};async function A(t){await q(y(s,"patient",t))}const K=t=>{f(o(s,"dates"),{...t})},R=async()=>(await c(o(s,"dates"))).docs.map(a=>{if(a){const d=a.data().cita;return d.fireId=a.id,d}});async function U(t){await q(y(s,"dates",t))}async function V(t,e){const a=y(s,"dates",t);await m(a,{"cita.fechaCita":e})}const x=async t=>{const e=p(o(s,"dates"),r("cita.ci","==",t));return(await c(e)).docs.map(n=>{if(n){const i=n.data().cita;return i.dateId=n.id,i.paypal=n.data().transaction,i}})},F=async(t,e)=>{const a=p(o(s,"dates"),r("cita.day","==",t),r("cita.month","==",e));return(await c(a)).docs.map(i=>{if(i)return i.data().cita})};export{B as a,K as b,x as c,k as d,E as e,C as f,F as g,A as h,j as i,R as j,V as k,U as l,b as s,z as u};
